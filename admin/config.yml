# --- ESTRUTURA DO SITE ---
collections:
  - name: "catalogo"
    label: "Catálogo de Produtos"
    files:
      - label: "Produtos"
        name: "produtos"
        file: "_data/catalogo.json"
        
        # O campo 'fields' define a estrutura geral do JSON
        fields:
          # --- O QUE MUDOU: Cada categoria é agora um Objeto com 2 campos ---
          
          # 1. APARADORES
          - label: "Aparadores"
            name: "aparadores"
            widget: "object" # Agora é um objeto
            fields:
              - {label: "Imagem de Capa (Story)", name: "story_image", widget: "image"}
              - label: "Itens da Categoria"
                name: "items" # A lista de produtos agora está aqui
                widget: "list"
                summary: "{{fields.nome}}"
                fields: *produto_fields # Reutiliza os campos do produto

          # 2. BANCOS
          - label: "Bancos"
            name: "bancos"
            widget: "object"
            fields:
              - {label: "Imagem de Capa (Story)", name: "story_image", widget: "image"}
              - label: "Itens da Categoria"
                name: "items"
                widget: "list"
                summary: "{{fields.nome}}"
                fields: *produto_fields

          # 3. BANCADAS
          - label: "Bancadas"
            name: "bancadas"
            widget: "object"
            fields:
              - {label: "Imagem de Capa (Story)", name: "story_image", widget: "image"}
              - label: "Itens da Categoria"
                name: "items"
                widget: "list"
                summary: "{{fields.nome}}"
                fields: *produto_fields
          
          # 4. CHAMPANHEIRAS
          - label: "Champanheiras"
            name: "champanheiras"
            widget: "object"
            fields:
              - {label: "Imagem de Capa (Story)", name: "story_image", widget: "image"}
              - label: "Itens da Categoria"
                name: "items"
                widget: "list"
                summary: "{{fields.nome}}"
                fields: *produto_fields

          # 5. ESCULTURAS
          - label: "Esculturas"
            name: "esculturas"
            widget: "object"
            fields:
              - {label: "Imagem de Capa (Story)", name: "story_image", widget: "image"}
              - label: "Itens da Categoria"
                name: "items"
                widget: "list"
                summary: "{{fields.nome}}"
                fields: *produto_fields
          
          # 6. MESAS (Esta agora é um Objeto que contém o Objeto de sub-categorias)
          - label: "Mesas"
            name: "mesas"
            widget: "object"
            fields:
              - {label: "Imagem de Capa (Story)", name: "story_image", widget: "image"} # Capa geral de Mesas
              - label: "Sub-Categorias de Mesas"
                name: "subcategories"
                widget: "object"
                fields:
                  - label: "Mesas de Apoio"
                    name: "apoio"
                    widget: "list"
                    summary: "{{fields.nome}}"
                    fields: *produto_fields
                  
                  - label: "Mesas de Canto"
                    name: "canto"
                    widget: "list"
                    summary: "{{fields.nome}}"
                    fields: *produto_fields
                  
                  - label: "Mesas de Centro"
                    name: "centro"
                    widget: "list"
                    summary: "{{fields.nome}}"
                    fields: *produto_fields
                  
                  - label: "Mesas Curvas"
                    name: "curvas"
                    widget: "list"
                    summary: "{{fields.nome}}"
                    fields: *produto_fields
                  
                  - label: "Mesas de Jantar"
                    name: "jantar"
                    widget: "list"
                    summary: "{{fields.nome}}"
                    fields: *produto_fields
          
          # 7. POLTRONAS
          - label: "Poltronas"
            name: "poltronas"
            widget: "object"
            fields:
              - {label: "Imagem de Capa (Story)", name: "story_image", widget: "image"}
              - label: "Itens da Categoria"
                name: "items"
                widget: "list"
                summary: "{{fields.nome}}"
                fields: *produto_fields